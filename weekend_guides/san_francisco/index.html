<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>San Francisco</title>
		<link rel="stylesheet" type="text/css" href="styles/styles_2.css">
		<meta charset="utf-8" />
	</head>
	
	<header>
		<img src="../assets/logo/logo_teal.png">
	</header>

	<body>
		<section id="first">
			<div>
				rolling fog,
				<br>
				tall skyscrapers,
				<br>
				painted ladies
			</div>
		</section>

		<section id="second">
			<img src="images/san_francisco_text.png">
		</section>

		<script type="text/javascript" src='https://code.jquery.com/jquery-3.2.1.min.js'></script>
		<script type="text/javascript" src='js/scripts.js'></script>

		<section id="third">
			<div class="container-fluid">
				<div class="row">				
					<div class="col-md-6">
						
					</div>
					<div class="col-md-6">
						<p>Welcome to <i>San Francisco</i>, a 7 mile by 7 mile city nestled on a fist shaped peninsula often embraced by a deep, beautiful fog. With its hilly terrain and multitude of neighborhoods,  there is always something to eat and somewhere to go.</p>
					</div>
				</div>
			</div>
		</section>

		<section class="section-title">
			<h1>
				Must do things
			</h1>
			<p>
				San Francisco has a lot to offer - between the food and the sights, the options are unlimited. Here are a few things that are a must do:	
			</p>

			<ul>
				<li>
					<strong>A. Lands End:</strong> This park on the edge of the city offers amazing views of the Golden Gate Bridge. The rocky shoreline and beaches are amazing spots to snap some photos. Plan to spend a couple of hours hiking and hopefully spotting some whales.
				</li>
				
				<li>
					<strong>B. Union Square/Market Street:</strong> Exploring Union Square is a great way to get acquainted with the city's hilly nature and the perfect gateway to exploring Chinatown and Market Street. If you have time, checkout the San Francisco Museum of Modern Art.
				</li>

				<li>
					<strong>C. The Mission & Dolores Park:</strong> The Mission District is the city's most exuberent neighbourhood with some of its newest and hippest restaurants and bars. On a sunny weekend day head to Dolores Park with a beach towel and six pack to enjoy the crowds and sun. Make sure to grab a bite at Tartine Bakery and some ice-cream at Bi-rite Creamery!
				</li>

				<li>
					<strong>D. Twin Peaks:</strong> Twin Peaks provides an exhilerating vantage point of the city and bay area. Whether you hike up ther or take and Uber like me, it's a great time. Just remember to bring warm clothing.
				</li>
			</ul>
		</section>
		<div id="map_anchor"></div>
		<section class="section-title" id="map_section">
			<div id="map"></div>
		</section>
		<section class="section-title" id="fourth">
			<h1>
				Where to Eat
			</h1>
			<p>
				San Fransico is filled with restaurants from all cuisines and cultures. Here are some places that are worth your time:	
			</p>

			<ul>
				<li>
					<strong>E. Brenda's French Soul Food ($$) :</strong> The line is often long for a reason. The food is amazing, full of flavours that will leave your mouth watering. The beignets are wonderful balls of joy and the fried chicken is heaven.
				</li>
				
				<li>
					<strong>F. Ramen Yamadaya ($$) :</strong> Located in Japantown, Ramen Yamadaya serves the best ramen in the city. The creamy broth is simmered for 20-hours and leaves if full of authentic flavours. The spiciness can be adjusted to your preference.
				</li>

				<li>
					<strong>G. Nopalito ($$) :</strong> This restaurant serves authentic Mexican food at a reasonable price with great service. The food is definitely Instagrammable and tastes even better than it looks.  
				</li>

				<li>
					<strong>H. Yank Sing ($$$) :</strong> Twin Peaks provides an exhilerating vantage point of the city and bay area. Whether you hike up ther or take and Uber like me, it's a great time. Just remember to bring warm clothing.
				</li>

				<li>
					<strong>I. Taquería El Farolito ($) :</strong> Twin Peaks provides an exhilerating vantage point of the city and bay area. Whether you hike up ther or take and Uber like me, it's a great time. Just remember to bring warm clothing.
				</li>
			</ul>
		</section>

		<section class="section-title" id="fifth">
			<h1 id='test'>
				Itineraries
			</h1>
			<div id="itineraries">
				
			</div>

		</section>

		<!--section id="image_credits">
			<div class="container-fluid">
				<div class="row">
					<div class="col-md-6 col-lg-5 offset-lg-1">
						Golden Gate Fog - Joshua Sortino
						<br>
						Lobster Rolls - Neil Conway
						<br>
						Brenda's French Soul Food - @cs_foodiecorner/Instagram
						<br>
						Ramen Yamadaya - SFGate
						<br>
						Nopalito - <a href="https://www.flickr.com/photos/jaredfrazer/3989515926">Jared Frazer</a>
						<br>
						El Farolito - <a href="http://www.foodspotting.com/places/2947-el-farolito-san-francisco/items/503-super-carne-asada-burrito">Food Spotting</a>
						<br>
						Yank Sing -  @thedelicious/Instagram
						<br>
						San Francisco Road - Evalyn Duke
						<br>
						Golden Gate Bridge - Axel Antas-Bergkvist
						<br>
						Alcatraz - Rodrigo Soares
						<br>
						Twin Peaks - <a href='http://sequoia-realestate.com/twin-peaks/'>Sequia Real Estate</a>
						<br>
						Exploratorium - Bruce Damonte
						<br>
						Mission - Kartikye Mittal
						<br>
						Painted Ladies - Belle Co
						<br>
						Nightlife - Vincent Laforet 
						<br>
						Holy Water - Patricia Chang
						<br>
						Li Po Cocktail Bar - Keith Cuddeback
						<br>
						DNA Lounge - Geoffrey Smith
						<br>
						SPiN - SPiN
						<br>
					</div>
				</div>
			</div>
		</section-->
		<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E=" crossorigin="anonymous"></script>
		<script>
			var map;
			var things_to_see = [
				{label: 'A', name: 'Lands End', position: {lat: 37.779702, lng: -122.511589}},
				{label: 'B', name: 'Union Square', position: {lat: 37.787994, lng: -122.407437}},
				{label: 'C', name: 'The Mission', position: {lat: 37.759716 , lng: -122.419458}},
				{label: 'D', name: 'Twin Peaks', position: {lat:  37.754407, lng: -122.447684}},
			]

			var things_to_eat = [
				{label: 'E', name: 'Brenda\'s French Soul Food', position: {lat: 37.7829023, lng: -122.41903580000002}},
				{label: 'F', name: 'Ramen Yamadaya', position: {lat: 37.7860697, lng: -122.42970700000001}},
				{label: 'G', name: 'Nopalito', position: {lat: 37.7733608 , lng: -122.43898509999997}},
				{label: 'H', name: 'Yank Sing', position: {lat:  37.7924983, lng: -122.39313870000001}},
				{label: 'I', name: 'Taquería El Farolito', position: {lat: 37.752654, lng: -122.41819150000003}}
			]

		  	var markers = []

		  	function loadItems(items, map){
		  		markers.forEach(function(marker) {
		  			//marker.setMap(null)
		  		})
		  		markers = []
		  		items.forEach(function(thing) {
					var marker = new google.maps.Marker({
						position: thing.position,
						map: map,
						label: {
							text: thing.label,
							color: '#ff7665',
							fontSize: '13px',
							fontFamily: 'Proxima_Nova',
							fontWeight: '600'
						},
						icon: {
							url: 'https://i.imgur.com/q9kann7.png',
							labelOrigin: new google.maps.Point(12, 13)
						}
					});
					var infowindow = new google.maps.InfoWindow({
						content: "<div><h3 style='margin:0;'>" + thing.name + "</h3></div>"
					})
					marker.addListener('mouseover', function(){
						infowindow.open(map, marker)
					})
					marker.addListener('mouseout', function(){
						infowindow.close()
					})
					markers.push(marker)
				});
		  	}

		  	function createMap(div, loc, zoom){
		  		return new google.maps.Map(document.getElementById(div), {
			  		center: loc,
			  		zoom: zoom ,
			  		styles: [{"elementType":"labels","stylers":[{"color":"#f3f3f3"}]},{"elementType":"labels.text.stroke","stylers":[{"color":"#949494"},{"weight":2.5}]},{"featureType":"administrative","elementType":"geometry","stylers":[{"visibility":"off"}]},{"featureType":"administrative.land_parcel","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"landscape","elementType":"geometry","stylers":[{"color":"#ff766d"}]},{"featureType":"poi","stylers":[{"visibility":"off"}]},{"featureType":"poi","elementType":"labels.text","stylers":[{"visibility":"off"}]},{"featureType":"road","elementType":"geometry.fill","stylers":[{"color":"#ffffff"}]},{"featureType":"road","elementType":"geometry.stroke","stylers":[{"color":"#ffffff"},{"weight":0.5}]},{"featureType":"road","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"road.arterial","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"road.highway","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"road.local","stylers":[{"visibility":"off"}]},{"featureType":"road.local","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"transit","stylers":[{"visibility":"off"}]},{"featureType":"water","stylers":[{"color":"#54dede"}]}],
				  		mapTypeControl: false,
			  		scaleControl: false,
			  		streetViewControl: false,
			  		rotateControl: false,
			  		fullscreenControl: false,
			  		gestureHandling: 'greedy',
			  		zoomControl: false,
				});
		  	}

			function initMap() {
		   		map = createMap('map', {lat: 37.773972, lng: -122.431297}, 12)

				loadItems(things_to_see, map)
				loadItems(things_to_eat, map)
		  	}

		  	function loadItin(data){
		  		Object.entries(data.itineraries).forEach(function(thing){
		  			content_string = 
		  			'<a href="../itinerary#san_francisco/' + thing[0] +'"><div class="itinerary"><img src="./'+ thing[1].itinerary[0].image + '"><h2>' + thing[1].name + '</h2></div></a>'
		  			$('#itineraries').append(content_string)
		  		})
		  	}

		  	$.ajax({
				dataType: "json",
				url: "./itinerary.json",
				success: function(data){
					loadItin(data)
				}
			})

			$(window).on('scroll', function() {
				var window_top = $(window).scrollTop();
			    var div_top = $('#map_anchor').offset().top;
			    var stop_top = $('#test').offset().top - $('#map_section').height();
			    if (window_top > stop_top) {
			        $('#map_section').css({top: stop_top - window_top + 'px'});
			    }
			});
		</script>
		<script src="https://maps.googleapis.com/maps/api/js?key= AIzaSyAmJWiJflyd-4q-NpsyLFBentfq3DVWZyI&callback=initMap"></script>
	</body>
</html>